window.HighTables={};HighTables.charts={};$(document).ready(function(){Highcharts.setOptions({credits:{enabled:false}});$(".line-chart").each(function(){HighTables.LineChart.renderTo(this)});$("table.render-to-line-chart").each(function(){HighTables.LineChart.renderFromTable(this)});$("table.render-to-area-chart").each(function(){HighTables.LineChart.renderFromTable(this,{chart:{type:"area"}})});$("table.render-to-stack-chart").each(function(){HighTables.LineChart.renderFromTable(this,{chart:{type:"area"},plotOptions:{area:{stacking:"normal"}}})});$("table.render-to-bar-chart").each(function(){HighTables.BarChart.renderFromTable(this)});$("table.render-to-column-chart").each(function(){HighTables.BarChart.renderFromTable(this,{chart:{type:"column"}})});$("table.render-to-pie-chart").each(function(){HighTables.PieChart.renderFromTable(this)});if(HighTables.includeHighchartsLinks){Highcharts.setOptions({credits:{enabled:true}})}});HighTables.Parse=function(){function a(b){return parseFloat(b.replace(/^\$|,/g,""))}return{number:a}}();HighTables.Base=function(d){d=$(d);var b;var a={options:function(f){return e(f)},title:function(f){return{title:{text:f}}},"x-interval":function(f){return{xAxis:{tickInterval:parseInt(f)}}}};function e(g){var h=g.split(".");var f=window;while(h.length>0){f=f[h.shift()]}return(typeof f==="function")?f():f}function c(){var f={};var h;for(var g in a){h=d.attr("data-"+g);if(h){$.extend(f,a[g](h))}}return f}this.options=function(){if(!b){b=c()}return b};this.element=d};HighTables.Table=function(c){$.extend(this,new HighTables.Base(c));var f=this.element;var d;var h;var e;var g;var a;function b(i,j){if(j){return HighTables.Parse.number(i.text())}else{return i.text()}}this.getOrCreateChart=function(){if(!d){d=$("<div>").addClass("chart");d.attr("id","chart-"+$(".chart").length+1);d.insertBefore(f)}return d};this.firstRow=function(){if(!h){h=f.find("tr:first")}return h};this.bodyRows=function(){if(!e){e=f.find("tr:gt(0)")}return e};this.columnCount=function(){if(!g){g=this.firstRow().find("th").length}return g};this.rowCount=function(){if(!a){a=f.find("tr").length}return a};this.getColumnHeader=function(i){return this.firstRow().find("th:nth-child("+(i+1)+")").text()};this.getColumnData=function(j,i){i=i||{numeric:true};return this.bodyRows().map(function(){var k=$(this).find("td:nth-child("+(j+1)+")");return b(k,i.numeric)})};this.getRowHeader=function(i){return f.find("tr:nth-child("+(i+1)+")").find("td:first").text()};this.getRowData=function(j,i){i=i||{numeric:true};return f.find("tr:nth-child("+(j+1)+")").find("td:gt(0):not(.exclude-from-chart),th:gt(0):not(.exclude-from-chart)").map(function(){return b($(this),i.numeric)})}};HighTables.Chart=function(a){$.extend(this,new HighTables.Base(a));var b=this.element;var c;this.getTable=function(){if(!c){c=$(b.attr("data-table"))}return c}};HighTables.LineChart=function(){var a=HighTables.charts.line=[];function d(g){return g.getColumnData(0,{numeric:false})}function b(j){var h=[];for(var g=1;g<j.columnCount();g++){h.push({name:j.getColumnHeader(g),data:j.getColumnData(g)})}return h}function c(k,j,h){h=h||{};var g=d(k);var i=b(k);a.push(new Highcharts.Chart($.extend(true,{chart:{backgroundColor:"transparent",renderTo:j[0],type:"line"},xAxis:{categories:g},yAxis:{title:false},title:false,series:i},h)))}function f(h,g){var i=new HighTables.Chart(h);var j=new HighTables.Table(i.getTable()[0]);return c(j,i.element,$.extend({},i.options(),g))}function e(h,g){var i=new HighTables.Table(h);return c(i,i.getOrCreateChart(),$.extend({},i.options(),g))}return{renderTo:f,renderFromTable:e}}();HighTables.BarChart=function(){var b=HighTables.charts.bar=[];function c(e){return e.getRowData(0,{numeric:false})}function a(g){var f=[];for(var e=1;e<g.rowCount();e++){f.push({name:g.getRowHeader(e),data:g.getRowData(e)})}return f}function d(h,f){f=f||{};var i=new HighTables.Table(h);var e=c(i);var g=a(i);b.push(new Highcharts.Chart($.extend(true,{chart:{backgroundColor:"transparent",renderTo:i.getOrCreateChart().attr("id"),type:"bar"},xAxis:{categories:e},yAxis:{title:false},title:false,series:g},i.options(),f)))}return{renderFromTable:d}}();HighTables.PieChart=function(){var d=HighTables.charts.pie=[];function c(h){return h.firstRow().find("th:last").text()}function f(h){return $(h).find("td:first").text()}function b(h){return HighTables.Parse.number($(h).find("td:last").text())}function g(h){return h.bodyRows().map(function(){var i=f(this);var j=b(this);return[[i,j]]})}function a(i){var h=c(i);var j=g(i);return[{type:"pie",name:h,data:j}]}function e(j,h){h=h||{};var k=new HighTables.Table(j);var i=a(k);d.push(new Highcharts.Chart($.extend(true,{chart:{backgroundColor:"transparent",renderTo:k.getOrCreateChart().attr("id"),type:"pie"},title:false,series:i},k.options(),h)))}return{renderFromTable:e}}();